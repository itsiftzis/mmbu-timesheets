<div class="row">
    <div ng-controller="CreateWorkLogCtrl as cwlc">
        <h1>Create Worklog</h1>

        <form id="CreateWorkLogForm" name="CreateWorkLogForm" class="form-horizontal" role="form"
              ng-submit="cwlc.createWorkLog()">
            <legend class="sm-col-12">Work Log Entry</legend>

            <div class="form-group">
                <label id="lbl_date" for="date" class="col-sm-4 control-label">date</label>

                <div class="col-sm-8">
                    <input type="date" class="form-control" name="date" date='dd/MM/yyyy' id="date" placeholder=""
                           ng-model="cwlc.worklog.dateLog">
                </div>
            </div>

            <div class="form-group">
                <label id="lbl_totalHours" for="totalHours" class="col-sm-4 control-label">total hours</label>

                <div class="col-sm-8">
                    <input type="text" class="form-control" name="totalHours" id="totalHours" placeholder=""
                           ng-model="cwlc.worklog.totalHours">
                </div>
            </div>

            <div class="form-group">
                <label id="lbl_projects" for="projects" class="col-sm-4 control-label width20">Projects</label>

                <div class="col-sm-8 width80">
                    <a class="btn pull-right" ng-click="cwlc.addInputRow()">add project</a>
                    <p ng-repeat="project in cwlc.projects track by $index">
                        <!--<input name="client" type="text" class="span2" ng-model="cwlc.projects[$index].client"/>-->
                        client:<select ng-change="cwlc.fillNames(cwlc.projects[$index].client, $index)" class="span2" name="client" ng-model="cwlc.projects[$index].client" ng-options="prclient.client for prclient in cwlc.prclients  track by prclient.client"></select>
                        <!--<input name="name" type="text" class="span2" ng-model="cwlc.projects[$index].name"/>-->
                        name:<select ng-change="cwlc.fillComponents(cwlc.projects[$index].name, $index)" class="span2" name="name" ng-model="cwlc.projects[$index].name" ng-options="prname.name for prname in cwlc.prnames[$index] track by prname.name"></select>
                        <!--<input name="component" type="text" class="span2" ng-model="cwlc.projects[$index].component"/>-->
                        component:<select class="span2" name="component" ng-model="cwlc.projects[$index].component" ng-options="prcomp.component for prcomp in cwlc.prcomps[$index] track by prcomp.component"></select>
                        region:<input name="region" type="text" class="span2" ng-model="cwlc.projects[$index].region"/>
                        hours:<input name="hours" type="number" class="span3" ng-model="cwlc.projects[$index].hours"/>
                        <a class="class" ng-click="cwlc.deleteThis($index)">X</a>
                    </p>
                </div>
            </div>


            <!--<pre>{{ cwlc.worklogs | json }}</pre>-->

            <div class="form-group">
                <div class="col-sm-offset-4 col-sm-8 text-right">
                    <a ng-href="/worklog#/" id="btn_cancel" class="btn btn-warning">Cancel</a>

                    <button type="submit" class="btn btn-success" id="btn_create">Create WorkLog</button>
                </div>
            </div>


        </form>
    </div>
</div>
